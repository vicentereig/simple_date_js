(function(){var a,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}};a=jQuery;f=DOMBrew;g=function(){function d(b,d){var c;this.options=a["extends"](this.defaults,d);this.selects=(c=a(this).find("select"),this.yearSelect=c[0],this.monthSelect=c[1],this.daySelect=c[2],c);this.classes=["year","month","day"];this.selects.each(function(){return a(this).addClass(classes.shift())});this.initializeDate();this.selects.each(function(){return a(this).change(updateDate)});this.selects.each(function(){return a(this).trigger("change")})}
d.defaults={};d.prototype.selectedDate=function(){return this.date};d.prototype.initializeDate=function(){return this.selects.map(h(function(){this.date=a(this).find("option[selected=selected]").map(function(){return parseInt(a(this).val())});return this.date=new Date(this.date[0],this.date[1]-1,this.date[2])},this))};d.prototype.updateDate=function(b){var d,c,e,b=a(b.srcElement);b.hasClass("year")&&this.date.setFullYear(+b.val());b.hasClass("month")&&this.date.setMonth(+b.val()-1);b.hasClass("day")&&
this.date.setDate(+b.val());e=a(this.daySelect).find("option");parseInt(e.last().val())!==this.date.lastDayInMonth()&&(e=function(){var a,b;b=[];c=1;for(a=this.date.lastDayInMonth();1<=a?c<=a:c>=a;1<=a?c++:c--){d={value:c};if(this.date.getDate()===c)d.selected="selected";b.push(f("option",d).append(f("text",c)).dom())}return b}.call(this),a(this.daySelect).find("option").remove(),a(this.daySelect).append(e));return b.one("blur",function(){return console.log("Not yet implemented! :-)")})};return d}();
a.fn.simpleDate=function(d){return this.each(function(){return new g(a(this),d)})}}).call(this);
